var F=new BroadcastChannel("worker_service");var a={FromInjectedToService:0,FromContentToService:1,FromServiceToWorker:2,FromWorkerToService:3,FromUntrustedInjectedToTrusted:4,FromTrustedInjectedToUntrusted:5,FromServiceToContent:6,FromServiceToInjected:7,FromServiceToService:8};function i(e,t=0){let o=3735928559^t,n=1103547991^t;for(let r=0,s;r<e.length;r++)s=e.charCodeAt(r),o=Math.imul(o^s,2654435761),n=Math.imul(n^s,1597334677);return o=Math.imul(o^o>>>16,2246822507),o^=Math.imul(n^n>>>13,3266489909),n=Math.imul(n^n>>>16,2246822507),n^=Math.imul(o^o>>>13,3266489909),4294967296*(2097151&n)+(o>>>0)}var d=new BroadcastChannel(`injected-${i(window.location.href)}`);function m(e){let t=a.FromUntrustedInjectedToTrusted;d.postMessage({msg:e,channel:t})}function l(e){let t=o=>{let n=o.data.msg;o.data.channel==a.FromTrustedInjectedToUntrusted&&e(n)};return d.addEventListener("message",t),()=>{d.removeEventListener("message",t)}}async function c(){let e=1;for(;;){let t=window.__playerdata__;if(t){m({name:"iq_on_config",data:{config:t}});break}else await new Promise(o=>setTimeout(o,1e3*e++))}}l(e=>{e.name=="iq_request_config"&&c()});c();var T=history.pushState.bind(history),p=history.replaceState.bind(history),u=()=>{location.reload()};history.pushState=function(...e){let t=T(...e);return window.dispatchEvent(new Event("history-changed")),t};history.replaceState=function(...e){let t=p(...e);return window.dispatchEvent(new Event("history-changed")),t};window.addEventListener("popstate",u);window.addEventListener("history-changed",u);
